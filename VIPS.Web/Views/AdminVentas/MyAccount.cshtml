@{
    Layout = "_AdminVentasLayout";
    string lang = User.FindFirst("Lang")?.Value ?? "es";
}


<h2 class="page-title">
    ⚙️ @(lang == "es" ? "Administrar mi cuenta" : "Manage My Account")
</h2>

<div class="settings-grid">
    <!-- Card de Seguridad -->
    <div class="settings-card">
        <h3 class="card-title">
            🔒 @(lang == "es" ? "Seguridad" : "Security")
        </h3>
        <p class="card-description">
            @(lang == "es" ? "Gestiona la seguridad de tu cuenta cambiando tu contraseña cuando sea necesario." : "Manage your account security by changing your password when needed.")
        </p>

        <a class="btn-principal" asp-controller="Auth" asp-action="ChangePasswordAccount">
            🔑 @(lang == "es" ? "Cambiar Contraseña" : "Change Password")
        </a>

        <!-- Mensajes de contraseña -->

        @if (TempData["ErrorMessageChange"] != null)
        {
        <div class="alert alert-danger">
            <p style="color:red;">❌ @TempData["ErrorMessageChange"]</p>
        </div>

        }

        @if (TempData["SuccessMessageChange"] != null)
        {
        <div class="alert alert-success">
            <p style="color:green;">✅ @TempData["SuccessMessageChange"]</p>
        </div>
        }

    </div>

    <!-- Card de Idioma -->
    <div class="settings-card">
        <h3 class="card-title">
            🌐 @(lang == "es" ? "Preferencias de Idioma" : "Language Preferences")
        </h3>
        <p class="card-description">
            @(lang == "es" ? "Selecciona el idioma de la interfaz que prefieras para una mejor experiencia de usuario." : "Select your preferred interface language for a better user experience.")
        </p>

        <div class="current-language">
            🗣️ @(lang == "es" ? "Idioma actual" : "Current language"): <strong>@(lang == "es" ? "Español" : "English")</strong>
        </div>

        <form asp-controller="AdminVentas" asp-action="CambiarIdioma" method="post">
            @Html.AntiForgeryToken()

            <div class="form-group">
                <label for="nuevoLang" class="form-label">
                    @(lang == "es" ? "Seleccionar nuevo idioma" : "Select new language")
                </label>

                <select id="nuevoLang" name="nuevoLang" class="form-select" required>
                    @if(lang == "es")
                    {
                    <option value="es" selected>Español</option>
                    <option value="en">Inglés</option>
                    }
                    else
                    {
                    <option value="es">Spanish</option>
                    <option value="en" selected>English</option>
                    }
                </select>
            </div>

            <button type="submit" class="btn-secondary">
                🔄 @(lang == "es" ? "Cambiar idioma" : "Change Language")
            </button>

            <!-- Mensajes de idioma -->

            @if (TempData["SuccessMessageChangeLanguage"] != null)
            {
            <div class="alert alert-success">
                <p style="color:green;">✅ @TempData["SuccessMessageChangeLanguage"]</p>
            </div>

            }

            @if (TempData["ErrorMessageChangeLanguage"] != null)
            {
            <div class="alert alert-danger">
                <p style="color:red;">❌ @TempData["ErrorMessageChangeLanguage"]</p>
            </div>
            }

        </form>
    </div>
</div>