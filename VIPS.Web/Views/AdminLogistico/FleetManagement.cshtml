@model List<VIPS.Web.Models.FleetViewModel>

    @{
    Layout = "_AdminLogisticoLayout";
    string lang = User.FindFirst("Lang")?.Value ?? "es";
    }

    <div class="filtrosContenedor">

        <form method="get" asp-controller="AdminLogistico" asp-action="FleetManagement" class="FILTER">

            <div class="group">
                <label for="columna"><h4>@(lang == "es" ? "Columna:" : "Column:")</h4></label>

                <select id="columna" name="columna">
                    <option value="idCamion" selected="@(ViewBag.Columna == "idCamion" ? "selected" : null)">
                        @(lang == "es" ? "ID Camión" : "Truck ID")
                    </option>
                    <option value="patente" selected="@(ViewBag.Columna == "patente" ? "selected" : null)">
                        @(lang == "es" ? "Patente" : "License Plate")
                    </option>
                    <option value="capacidadPeso" selected="@(ViewBag.Columna == "capacidadPeso" ? "selected" : null)">
                        @(lang == "es" ? "Capacidad Peso (kg)" : "Weight Capacity (kg)")
                    </option>
                    <option value="capacidadVolumen" selected="@(ViewBag.Columna == "capacidadVolumen" ? "selected" : null)">
                        @(lang == "es" ? "Capacidad Volumen (m3)" : "Volume Capacity (m3)")
                    </option>
                    <option value="fechaCreacion" selected="@(ViewBag.Columna == "fechaCreacion" ? "selected" : null)">
                        @(lang == "es" ? "Fecha Creación" : "Creation Date")
                    </option>
                    <option value="estadoOperativo" selected="@(ViewBag.Columna == "estadoOperativo" ? "selected" : null)">
                        @(lang == "es" ? "Estado operativo" : "Operative Status")
                    </option>
                    <option value="asignado" selected="@(ViewBag.Columna == "asignado" ? "selected" : null)">
                        @(lang == "es" ? "Asignado" : "Assigned")
                    </option>
                </select>
            </div>


            <div class="group">

                <label for="orden"><h4>@(lang == "es" ? "Orden:" : "Order:")</h4></label>
                <select id="orden" name="orden">
                    <option value="asc" selected="@(ViewBag.Orden == "asc" ? "selected" : null)">
                        @(lang == "es" ? "Ascendente" : "Ascending")
                    </option>
                    <option value="desc" selected="@(ViewBag.Orden == "desc" ? "selected" : null)">
                        @(lang == "es" ? "Descendente" : "Descending")
                    </option>
                </select>
            </div>

            <div class="group">

                <div class="contenedor-info">
                    <label for="patente"><h4>@(lang == "es" ? "Patente:" : "License Plate:")</h4></label>
                    <input type="text" id="patente" name="patente" class="form-control" value="@ViewBag.Patente" />
                </div>
            </div>

            <div class="group-btn">
                <button class="btn filtros" type="submit">@(lang == "es" ? "🔍 Aplicar filtros" : "🔍 Apply Filters")</button>

                <a class="btn agregar" asp-controller="AdminLogistico" asp-action="CreateFleet">
                    @(lang == "es" ? "➕ Agregar camion" : "➕ Add Vehicle")

                </a>

                <a class="btn exportar" asp-controller="AdminLogistico" asp-action="ExportarFlotaPdf" asp-route-columna="@ViewBag.Columna" asp-route-orden="@ViewBag.Orden" asp-route-patente="@ViewBag.Patente" class="btn-principal filtros">
                    @(lang == "es" ? "📄 Exportar a pdf" : "📄 Export to PDF")
                </a>

            </div>



        </form>

        

        
    </div>

    <table>
        <thead>
            <tr>
                <th>@(lang == "es" ? "ID Camión" : "Truck ID")</th>
                <th>@(lang == "es" ? "Patente" : "License Plate")</th>
                <th>@(lang == "es" ? "Capacidad Peso (kg)" : "Weight Capacity (kg)")</th>
                <th>@(lang == "es" ? "Capacidad Volumen (m3)" : "Volume Capacity (m3)")</th>
                <th>@(lang == "es" ? "Fecha Creación" : "Creation Date")</th>
                <th>@(lang == "es" ? "Estado" : "Status")</th>
                <th>@(lang == "es" ? "Asignado" : "Assigned")</th>
                <th>@(lang == "es" ? "Acciones" : "Actions")</th>
            </tr>

        </thead>

        <tbody>
            @foreach (var camion in Model)
{
            <tr>
                <td><span class="id-badge">@camion.IdCamion</span></td>
                <td><span class="patent-code">@camion.Patente</span></td>
                <td><span class="numeric-value">@camion.CapacidadPeso</span></td>
                <td><span class="numeric-value">@camion.CapacidadVolumen</span></td>
                <td><span class="date-value">@camion.FechaCreacion.ToString("dd/MM/yyyy")</span></td>

                <td>
                    <span class="route-status status-@(camion.Estado == 1 ? "active" : "pending")">
                        @(camion.Estado == 1 ? (lang == "es" ? "Activo" : "Active") : (lang == "es" ? "Inactivo" : "Inactive"))
                    </span>
                </td>

                <td>
                    <span class="route-status status-@(camion.Asignado == 1 ? "active" : "pending")">
                        @(camion.Asignado == 1 ? (lang == "es" ? "Si" : "Yes") : (lang == "es" ? "No" : "No"))
                    </span>
                </td>


                <td>
                    <div class="actions-cell">

                        <a asp-controller="AdminLogistico" asp-action="EditFleet" asp-route-patente="@camion.Patente" class="action-btn edit-btn">
                            ✏️
                        </a>

                        <a asp-controller="AdminLogistico" asp-action="DeleteFleet" asp-route-patente="@camion.Patente" class="action-btn delete-btn">
                            🗑️
                        </a>

                    </div>


                </td>
            </tr>
}
        </tbody>

        
    </table>
