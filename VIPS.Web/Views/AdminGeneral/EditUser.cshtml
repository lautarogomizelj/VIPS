@model VIPS.Web.Models.UsuarioModelEdit

@{
    Layout = "_AdminLayout";
    string lang = User.FindFirst("Lang")?.Value ?? "es";
}

<form asp-action="EditUser" asp-controller="AdminGeneral" method="post" style="width:400px;">
    @Html.AntiForgeryToken()

    <div>
        <label for="Usuario">@((lang == "es") ? "Usuario" : "Username")</label>
        <input type="text" id="Usuario" name="Usuario"
               value="@Model.Usuario"
               placeholder="@(lang == "es" ? "Ingrese usuario" : "Enter username")" required />
    </div>

    <div>
        <label for="Dni">@((lang == "es") ? "DNI" : "ID Number")</label>
        <input type="text" id="Dni" name="Dni"
               value="@Model.Dni"
               placeholder="@(lang == "es" ? "Ingrese DNI" : "Enter ID number")" required />
    </div>

    <div>
        <label for="Nombre">@((lang == "es") ? "Nombre" : "First Name")</label>
        <input type="text" id="Nombre" name="Nombre"
               value="@Model.Nombre"
               placeholder="@(lang == "es" ? "Ingrese nombre" : "Enter first name")" required />
        <input type="hidden" name="IdUsuario" value="@Model.IdUsuario" />
    </div>

    <div>
        <label for="Apellido">@((lang == "es") ? "Apellido" : "Last Name")</label>
        <input type="text" id="Apellido" name="Apellido"
               value="@Model.Apellido"
               placeholder="@(lang == "es" ? "Ingrese apellido" : "Enter last name")" />
    </div>

    <div>
        <label for="Email">@((lang == "es") ? "Email" : "Email")</label>
        <input type="email" id="Email" name="Email"
               value="@Model.Email"
               placeholder="@(lang == "es" ? "Ingrese email" : "Enter email")" />
    </div>

    <div>
        <label for="Telefono">@((lang == "es") ? "Teléfono" : "Phone")</label>
        <input type="text" id="Telefono" name="Telefono"
               value="@Model.Telefono"
               placeholder="@(lang == "es" ? "Ingrese teléfono" : "Enter phone")" />
    </div>

    <div class="form-group">
        <label for="IdRol">@((lang == "es") ? "Rol" : "Role")</label>
        <select id="IdRol" name="IdRol">
            <option value="">@(lang == "es" ? "Seleccione un rol" : "Select a role")</option>
            @foreach (var rol in ViewBag.Roles)
            {
                if(rol.IdRol == Model.IdRol){
            <option value="@Model.IdRol" selected>@rol.Nombre</option>
                }
                else{
            <option value="@rol.IdRol">@rol.Nombre</option>
                }
            }
        </select>
    </div>

    <div class="form-actions">
        <button type="submit" class="btn-principal">@((lang == "es") ? "Confirmar cambios" : "Confirm Changes")</button>
        <a class="btn-secondary" asp-controller="AdminGeneral" asp-action="UserManagement">@((lang == "es") ? "Volver" : "Back")</a>
    </div>

    @if (TempData["ErrorMessageEditUser"] != null)
    {
    <div class="alert alert-danger">
        <p style="color:red;">@TempData["ErrorMessageEditUser"]</p>
    </div>
    }

</form>
